<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600" width="900" height="600">
  <!-- Background -->
  <rect width="900" height="600" fill="#f8f9fa" />
  
  <!-- Cloud Provider (AWS or Azure) -->
  <rect x="50" y="40" width="800" height="520" rx="10" fill="#e6f7ff" stroke="#0078d7" stroke-width="2" />
  <text x="70" y="70" font-family="Arial" font-size="20" font-weight="bold" fill="#0078d7">Cloud Provider (AWS/Azure)</text>
  
  <!-- VPC/VNET -->
  <rect x="100" y="90" width="700" height="450" rx="10" fill="#ecf3f9" stroke="#0078d7" stroke-width="2" stroke-dasharray="5,5" />
  <text x="120" y="120" font-family="Arial" font-size="16" fill="#0078d7">VPC (AWS) / Virtual Network (Azure)</text>
  
  <!-- Subnet -->
  <rect x="150" y="140" width="600" height="380" rx="10" fill="#f0f8ff" stroke="#0078d7" stroke-width="2" stroke-dasharray="5,5" />
  <text x="170" y="170" font-family="Arial" font-size="16" fill="#0078d7">Public Subnet</text>
  
  <!-- Internet Gateway -->
  <rect x="450" y="20" width="100" height="50" rx="10" fill="#ffffff" stroke="#0078d7" stroke-width="2" />
  <text x="465" y="50" font-family="Arial" font-size="14" fill="#0078d7">Internet</text>
  <path d="M500 70 L500 140" stroke="#0078d7" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <!-- Security Group -->
  <rect x="165" y="155" width="570" height="350" rx="10" fill="none" stroke="#ff6b6b" stroke-width="2" stroke-dasharray="5,5" />
  <text x="185" y="185" font-family="Arial" font-size="14" fill="#ff6b6b">Security Group / NSG</text>
  
  <!-- Manager Node -->
  <rect x="210" y="200" width="200" height="240" rx="10" fill="#ffffff" stroke="#333" stroke-width="2" />
  <text x="260" y="230" font-family="Arial" font-size="16" font-weight="bold" fill="#333">Manager Node</text>
  
  <!-- Worker Node -->
  <rect x="490" y="200" width="200" height="240" rx="10" fill="#ffffff" stroke="#333" stroke-width="2" />
  <text x="540" y="230" font-family="Arial" font-size="16" font-weight="bold" fill="#333">Worker Node</text>
  
  <!-- Docker Swarm Overlay Network -->
  <rect x="200" y="460" width="500" height="40" rx="10" fill="#dff0d8" stroke="#5cb85c" stroke-width="2" />
  <text x="350" y="485" font-family="Arial" font-size="14" fill="#333">Docker Swarm Overlay Network</text>
  
  <!-- Manager Services -->
  <rect x="220" y="260" width="180" height="30" rx="5" fill="#d9edf7" stroke="#31708f" stroke-width="2" />
  <text x="275" y="280" font-family="Arial" font-size="12" fill="#31708f">Traefik</text>
  
  <rect x="220" y="300" width="180" height="30" rx="5" fill="#d9edf7" stroke="#31708f" stroke-width="2" />
  <text x="245" y="320" font-family="Arial" font-size="12" fill="#31708f">PostgreSQL Primary</text>
  
  <rect x="220" y="340" width="180" height="30" rx="5" fill="#d9edf7" stroke="#31708f" stroke-width="2" />
  <text x="275" y="360" font-family="Arial" font-size="12" fill="#31708f">Backend</text>
  
  <rect x="220" y="380" width="180" height="30" rx="5" fill="#d9edf7" stroke="#31708f" stroke-width="2" />
  <text x="275" y="400" font-family="Arial" font-size="12" fill="#31708f">DNS</text>
  
  <!-- Worker Services -->
  <rect x="500" y="260" width="180" height="30" rx="5" fill="#fcf8e3" stroke="#8a6d3b" stroke-width="2" />
  <text x="555" y="280" font-family="Arial" font-size="12" fill="#8a6d3b">Frontend</text>
  
  <rect x="500" y="300" width="180" height="30" rx="5" fill="#fcf8e3" stroke="#8a6d3b" stroke-width="2" />
  <text x="525" y="320" font-family="Arial" font-size="12" fill="#8a6d3b">PostgreSQL Replica</text>
  
  <rect x="500" y="340" width="180" height="30" rx="5" fill="#fcf8e3" stroke="#8a6d3b" stroke-width="2" />
  <text x="560" y="360" font-family="Arial" font-size="12" fill="#8a6d3b">PgAdmin</text>
  
  <rect x="500" y="380" width="180" height="30" rx="5" fill="#fcf8e3" stroke="#8a6d3b" stroke-width="2" />
  <text x="555" y="400" font-family="Arial" font-size="12" fill="#8a6d3b">PgBouncer</text>
  
  <!-- Elastic IPs / Public IPs -->
  <rect x="310" y="150" width="140" height="30" rx="5" fill="#ffffff" stroke="#5bc0de" stroke-width="2" />
  <text x="320" y="170" font-family="Arial" font-size="12" fill="#5bc0de">Public IP (Manager)</text>
  <line x1="310" y1="165" x2="270" y2="200" stroke="#5bc0de" stroke-width="2" />
  
  <rect x="450" y="150" width="140" height="30" rx="5" fill="#ffffff" stroke="#5bc0de" stroke-width="2" />
  <text x="460" y="170" font-family="Arial" font-size="12" fill="#5bc0de">Public IP (Worker)</text>
  <line x1="590" y1="165" x2="630" y2="200" stroke="#5bc0de" stroke-width="2" />
  
  <!-- External Clients -->
  <rect x="450" y="540" width="100" height="40" rx="10" fill="#ffffff" stroke="#333" stroke-width="2" />
  <text x="465" y="565" font-family="Arial" font-size="14" fill="#333">Clients</text>
  <path d="M500 540 L500 510 L500 470" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <!-- DuckDNS -->
  <rect x="620" y="540" width="120" height="40" rx="10" fill="#ffffff" stroke="#5cb85c" stroke-width="2" />
  <text x="645" y="565" font-family="Arial" font-size="14" fill="#5cb85c">DuckDNS</text>
  <path d="M680 540 L650 520 L600 500 L550 485" stroke="#5cb85c" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <!-- Arrowhead marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="50" y="530" width="200" height="60" rx="5" fill="#ffffff" stroke="#333" stroke-width="1" />
  <text x="60" y="550" font-family="Arial" font-size="14" font-weight="bold" fill="#333">Legend:</text>
  <rect x="60" y="560" width="12" height="12" fill="#d9edf7" stroke="#31708f" stroke-width="1" />
  <text x="80" y="570" font-family="Arial" font-size="12" fill="#333">Manager Services</text>
  <rect x="180" y="560" width="12" height="12" fill="#fcf8e3" stroke="#8a6d3b" stroke-width="1" />
  <text x="200" y="570" font-family="Arial" font-size="12" fill="#333">Worker Services</text>
</svg>
